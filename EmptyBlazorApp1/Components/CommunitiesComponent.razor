@using MudBlazor
@using EmptyBlazorApp1.Components
@using EmptyBlazorApp1.Entities
@using EmptyBlazorApp1.Services

@inject AccountService AccountService

<MudStack Spacing="2">
    <MudText Typo="Typo.h5" Align="Align.Center">Сообщества</MudText>
    <MudDivider/>
    <СommunityCardComponent
        Title="Сообщество 1"
        Rating="1000"
        Subscribers="89"/>

    <СommunityCardComponent
        Title="Сообщество 2"
        Rating="960"
        Subscribers="64"/>

    <СommunityCardComponent
        Title="Сообщество 3"
        Rating="879"
        Subscribers="58"/>

    <СommunityCardComponent
        Title="Сообщество 4"
        Rating="799"
        Subscribers="23"/>
    <СommunityCardComponent
        Title="Сообщество 4"
        Rating="799"
        Subscribers="23"/>
    <СommunityCardComponent
        Title="Сообщество 4"
        Rating="799"
        Subscribers="23"/>
    <СommunityCardComponent
        Title="Сообщество 4"
        Rating="799"
        Subscribers="23"/>
    <СommunityCardComponent
        Title="Сообщество 4"
        Rating="799"
        Subscribers="23"/>
</MudStack>

@code {
    List<Community> _communities = new List<Community>();

    protected override void OnInitialized() {
        base.OnInitialized();
        var user = AccountService.User;
        if (user != null) {
            _communities = AccountService.GetCommunities(user);
        }
    }

}
